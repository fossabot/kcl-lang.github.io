"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[15491],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>k});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),u=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=u(r),m=o,k=d["".concat(l,".").concat(m)]||d[m]||p[m]||i;return r?n.createElement(k,a(a({ref:t},c),{},{components:r})):n.createElement(k,a({ref:t},c))}));function k(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=r.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:o,a[1]=s;for(var u=2;u<i;u++)a[u]=r[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},36196:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>u});var n=r(87462),o=(r(67294),r(3905));const i={title:"Adopt From Kubernetes",sidebar_position:1},a=void 0,s={unversionedId:"user_docs/guides/working-with-k8s/adopt-from-kubernetes",id:"version-0.7.0/user_docs/guides/working-with-k8s/adopt-from-kubernetes",title:"Adopt From Kubernetes",description:"Introduction",source:"@site/versioned_docs/version-0.7.0/user_docs/guides/working-with-k8s/1-adopt-from-kubernetes.md",sourceDirName:"user_docs/guides/working-with-k8s",slug:"/user_docs/guides/working-with-k8s/adopt-from-kubernetes",permalink:"/docs/user_docs/guides/working-with-k8s/adopt-from-kubernetes",draft:!1,editUrl:"https://github.com/kcl-lang/kcl-lang.io/tree/main/versioned_docs/version-0.7.0/user_docs/guides/working-with-k8s/1-adopt-from-kubernetes.md",tags:[],version:"0.7.0",lastUpdatedBy:"Peefy",lastUpdatedAt:1698900443,formattedLastUpdatedAt:"Nov 2, 2023",sidebarPosition:1,frontMatter:{title:"Adopt From Kubernetes",sidebar_position:1},sidebar:"user_docs",previous:{title:"Kubernetes",permalink:"/docs/user_docs/guides/working-with-k8s/"},next:{title:"Generate Kubernetes Manifests",permalink:"/docs/user_docs/guides/working-with-k8s/generate-k8s-manifests"}},l={},u=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisite",id:"prerequisite",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"1. Migrate From Kubernetes YAML/JSON",id:"1-migrate-from-kubernetes-yamljson",level:3},{value:"2. Migrate From Kubernetes CRD",id:"2-migrate-from-kubernetes-crd",level:3},{value:"3. Get the k8s module Directly",id:"3-get-the-k8s-module-directly",level:3},{value:"Summary",id:"summary",level:2}],c={toc:u},d="wrapper";function p(e){let{components:t,...r}=e;return(0,o.kt)(d,(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"KCL provides many out of the box support for Kubernetes configuration. Through KCL tools, we can integrate Kubernetes Schema and configuration into KCL. This section will introduce how to use KCL to integrate Kubernetes."),(0,o.kt)("h2",{id:"prerequisite"},"Prerequisite"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Install ",(0,o.kt)("a",{parentName:"li",href:"https://kcl-lang.io/docs/user_docs/getting-started/install/"},"kcl"))),(0,o.kt)("h2",{id:"quick-start"},"Quick Start"),(0,o.kt)("h3",{id:"1-migrate-from-kubernetes-yamljson"},"1. Migrate From Kubernetes YAML/JSON"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"YAML")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"kcl import deployment.yaml\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"JSON")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"kcl import deployment.json\n")),(0,o.kt)("h3",{id:"2-migrate-from-kubernetes-crd"},"2. Migrate From Kubernetes CRD"),(0,o.kt)("p",null,"KCL supports extracting and generating KCL schemas from Kubernetes OpenAPI/CRD. the ",(0,o.kt)("a",{parentName:"p",href:"/docs/tools/cli/openapi/spec"},"KCL OpenAPI Spec")," defines the mapping between the OpenAPI specification and the KCL language features."),(0,o.kt)("p",null,"If you developed CRDs, you can generate the KCL version of the CRD schemas and declare CRs based on that."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Generate KCL Schema from CRD"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"kcl import -m crd -s <your_crd.yaml>\n"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Define CR based on CRDs in KCL"),(0,o.kt)("p",{parentName:"li"},"  You can initialize the CRD schema to define a CR, or further, you can use the generated schema as a backend model and design a frontend interface for users to initialize. The practice is similar to what ",(0,o.kt)("inlineCode",{parentName:"p"},"KCL Models")," does on Kubernetes built-in models."))),(0,o.kt)("h3",{id:"3-get-the-k8s-module-directly"},"3. Get the k8s module Directly"),(0,o.kt)("p",null,"The Kubernetes KCL modules among all versions (v1.14-v1.28) are pre-generated, you get it by executing ",(0,o.kt)("inlineCode",{parentName:"p"},"kcl mod add k8s:<version>")," under your project. More modules can be seen ",(0,o.kt)("a",{parentName:"p",href:"https://artifacthub.io/packages/search?org=kcl&sort=relevance&page=1"},"here")),(0,o.kt)("h2",{id:"summary"},"Summary"),(0,o.kt)("p",null,"This section explains how to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"kcl import")," tool to migrate JSON, YAML, Kubernetes CRDs, and more to KCL. The Quick Start Guide helps with the migration or integration from Kubernetes."))}p.isMDXComponent=!0}}]);